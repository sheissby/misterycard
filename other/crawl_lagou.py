# encoding: utf-8
import json
import requests
from requests.packages.urllib3.exceptions import InsecureRequestWarning
# 禁用安全请求警告
requests.packages.urllib3.disable_warnings(InsecureRequestWarning)

def get_response():
    for page in range(1,31):
        # print 'starting page %d' % page
        param = 'first=true&kd=%E6%B5%8B%E8%AF%95&pn=' + str(page)
        try:
            s = requests.session()
            r = s.post(url=base_url, data=param, headers=header, verify=False, cookies=cookie)
            if r.status_code == 200:
                # print 'parsing page %d' % page
                res = json.loads(r.content)
                # res = {u'code': 0, u'success': True, u'resubmitToken': None, u'content': {u'positionResult': {u'queryAnalysisInfo': {u'usefulCompany': False, u'industryName': None, u'positionName': u'\u6d4b\u8bd5', u'companyName': None}, u'strategyProperty': {u'name': u'dm-csearch-defaultUserExpect', u'id': 0}, u'locationInfo': {u'businessZone': None, u'city': u'\u5317\u4eac', u'locationCode': None, u'district': None, u'queryByGisCode': False}, u'totalCount': 2291, u'resultSize': 15, u'result': [{u'companySize': u'15-50\u4eba', u'firstType': u'\u6280\u672f', u'appShow': 0, u'pcShow': 0, u'positionName': u'\u6d4b\u8bd5\u5de5\u7a0b\u5e08', u'education': u'\u5927\u4e13', u'financeStage': u'\u6210\u957f\u578b(A\u8f6e)', u'city': u'\u5317\u4eac', u'companyLogo': u'image1/M00/44/62/CgYXBlXVaZiABoEhAAATVtgrHnc431.png?cc=0.8434482689481229', u'district': None, u'companyId': 91019, u'explain': None, u'industryField': u'\u79fb\u52a8\u4e92\u8054\u7f51,\u786c\u4ef6', u'createTime': u'2017-03-21 09:13:49', u'positionLables': [u'\u6d4b\u8bd5'], u'score': 0, u'adWord': 0, u'formatCreateTime': u'3\u5929\u524d\u53d1\u5e03', u'salary': u'10k-15k', u'workYear': u'3-5\u5e74', u'secondType': u'\u6d4b\u8bd5', u'jobNature': u'\u5168\u804c', u'deliver': 0, u'gradeDescription': None, u'imState': u'today', u'companyFullName': u'\u5317\u4eac\u620e\u8d85\u79d1\u6280\u6709\u9650\u516c\u53f8', u'companyLabelList': [u'\u4e13\u9879\u5956\u91d1', u'\u5c97\u4f4d\u664b\u5347', u'\u6241\u5e73\u7ba1\u7406', u'\u5f39\u6027\u5de5\u4f5c'], u'positionId': 2502620, u'companyShortName': u'\u5317\u4eac\u620e\u8d85\u79d1\u6280\u6709\u9650\u516c\u53f8', u'publisherId': 3568253, u'businessZones': None, u'plus': None, u'lastLogin': 1490338453000L, u'positionAdvantage': u'\u9876\u5c16\u6280\u672f\u56e2\u961f+\u5f39\u6027\u5de5\u65f6+\u5c97\u4f4d\u664b\u5347\u7a7a\u95f4\u5927', u'approve': 1, u'promotionScoreExplain': None}, {u'companySize': u'50-150\u4eba', u'firstType': u'\u5f00\u53d1/\u6d4b\u8bd5/\u8fd0\u7ef4\u7c7b', u'appShow': 0, u'pcShow': 0, u'positionName': u'\u6d4b\u8bd5\u5de5\u7a0b\u5e08', u'education': u'\u672c\u79d1', u'financeStage': u'\u4e0a\u5e02\u516c\u53f8', u'city': u'\u5317\u4eac', u'companyLogo': u'image1/M00/26/1E/Cgo8PFVUDROAf7zrAABr5cEcbGQ572.jpg', u'district': u'\u671d\u9633\u533a', u'companyId': 436, u'explain': None, u'industryField': u'\u79fb\u52a8\u4e92\u8054\u7f51,\u6e38\u620f', u'createTime': u'2017-03-24 11:44:35', u'positionLables': [u'\u81ea\u52a8\u5316', u'\u6d4b\u8bd5', u'app', u'python'], u'score': 0, u'adWord': 0, u'formatCreateTime': u'11:44\u53d1\u5e03', u'salary': u'15k-25k', u'workYear': u'3-5\u5e74', u'secondType': u'\u6d4b\u8bd5', u'jobNature': u'\u5168\u804c', u'deliver': 0, u'gradeDescription': None, u'imState': u'today', u'companyFullName': u'\u5947\u864e360\u79d1\u6280\u6709\u9650\u516c\u53f8', u'companyLabelList': None, u'positionId': 2894284, u'companyShortName': u'360', u'publisherId': 3474322, u'businessZones': [u'\u9152\u4ed9\u6865', u'\u5c06\u53f0\u8def', u'\u5927\u5c71\u5b50'], u'plus': None, u'lastLogin': 1490326822000L, u'positionAdvantage': u'\u65b0\u4e1a\u52a1\uff0c\u516c\u53f8\u91cd\u70b9\u9879\u76ee\uff0c\u70ed\u60c5\u6ee1\u6ee1\uff0c\u6536\u83b7\u591a\u591a', u'approve': 1, u'promotionScoreExplain': None}, {u'companySize': u'50-150\u4eba', u'firstType': u'\u5f00\u53d1/\u6d4b\u8bd5/\u8fd0\u7ef4\u7c7b', u'appShow': 0, u'pcShow': 0, u'positionName': u'\u6d4b\u8bd5\u5de5\u7a0b\u5e08', u'education': u'\u672c\u79d1', u'financeStage': u'\u6210\u957f\u578b(A\u8f6e)', u'city': u'\u5317\u4eac', u'companyLogo': u'image2/M00/01/96/CgpzWlXk_fSAeHHcAACAapd5Gdk111.png?cc=0.24298438685946167', u'district': u'\u6d77\u6dc0\u533a', u'companyId': 93302, u'explain': None, u'industryField': u'\u79fb\u52a8\u4e92\u8054\u7f51,\u6570\u636e\u670d\u52a1', u'createTime': u'2017-03-23 15:33:23', u'positionLables': [u'\u9ad8\u7ea7', u'\u81ea\u52a8\u5316', u'\u6d4b\u8bd5'], u'score': 0, u'adWord': 0, u'formatCreateTime': u'1\u5929\u524d\u53d1\u5e03', u'salary': u'10k-20k', u'workYear': u'3-5\u5e74', u'secondType': u'\u6d4b\u8bd5', u'jobNature': u'\u5168\u804c', u'deliver': 0, u'gradeDescription': None, u'imState': u'today', u'companyFullName': u'\u5317\u4eac\u4f73\u683c\u5929\u5730\u79d1\u6280\u6709\u9650\u516c\u53f8', u'companyLabelList': [u'\u80a1\u7968\u671f\u6743', u'\u6241\u5e73\u7ba1\u7406', u'\u9886\u5bfc\u597d', u'\u4ea4\u901a\u8865\u52a9'], u'positionId': 2944060, u'companyShortName': u'\u4f73\u683c\u5927\u6570\u636e', u'publisherId': 4407531, u'businessZones': None, u'plus': None, u'lastLogin': 1490325080000L, u'positionAdvantage': u'\u884c\u4e1a\u98ce\u53e3\u524d\u666f\u597d\uff0c\u516c\u53f8\u798f\u5229\u591a', u'approve': 1, u'promotionScoreExplain': None}, {u'companySize': u'2000\u4eba\u4ee5\u4e0a', u'firstType': u'\u6280\u672f', u'appShow': 0, u'pcShow': 0, u'positionName': u'\u9ad8\u7ea7\u6d4b\u8bd5\u5de5\u7a0b\u5e08', u'education': u'\u672c\u79d1', u'financeStage': u'\u4e0a\u5e02\u516c\u53f8', u'city': u'\u5317\u4eac', u'companyLogo': u'i/image/M00/03/44/Cgp3O1ax7JWAOSzUAABS3OF0A7w289.jpg', u'district': u'\u897f\u57ce\u533a', u'companyId': 50889, u'explain': None, u'industryField': u'\u79fb\u52a8\u4e92\u8054\u7f51,\u4f01\u4e1a\u670d\u52a1', u'createTime': u'2017-03-24 11:47:12', u'positionLables': [u'\u6d4b\u8bd5'], u'score': 0, u'adWord': 0, u'formatCreateTime': u'11:47\u53d1\u5e03', u'salary': u'15k-30k', u'workYear': u'3-5\u5e74', u'secondType': u'\u6d4b\u8bd5', u'jobNature': u'\u5168\u804c', u'deliver': 0, u'gradeDescription': None, u'imState': u'today', u'companyFullName': u'\u548c\u521b\uff08\u5317\u4eac\uff09\u79d1\u6280\u80a1\u4efd\u6709\u9650\u516c\u53f8', u'companyLabelList': [u'\u5f39\u6027\u5de5\u4f5c', u'\u654f\u6377\u7814\u53d1', u'\u80a1\u7968\u671f\u6743', u'\u5e74\u5e95\u53cc\u85aa'], u'positionId': 1440585, u'companyShortName': u'\u548c\u521b\u79d1\u6280\uff08\u7ea2\u5708\u8425\u9500\uff09', u'publisherId': 994817, u'businessZones': [u'\u65b0\u8857\u53e3', u'\u5fb7\u80dc\u95e8', u'\u5c0f\u897f\u5929'], u'plus': None, u'lastLogin': 1490333462000L, u'positionAdvantage': u'\u4e0a\u5e02\u516c\u53f8\uff0c\u6301\u7eed\u80a1\u6743\u6fc0\u52b1\uff0c\u798f\u5229\u8865\u8d34\u4f18\u539a\uff01', u'approve': 1, u'promotionScoreExplain': None}, {u'companySize': u'150-500\u4eba', u'firstType': u'\u5f00\u53d1/\u6d4b\u8bd5/\u8fd0\u7ef4\u7c7b', u'appShow': 0, u'pcShow': 0, u'positionName': u'\u6d4b\u8bd5\u5de5\u7a0b\u5e08', u'education': u'\u672c\u79d1', u'financeStage': u'\u6210\u957f\u578b(A\u8f6e)', u'city': u'\u5317\u4eac', u'companyLogo': u'i/image/M00/76/C2/CgqKkVg2fVCASEreAABS01Upo_A221.jpg', u'district': u'\u671d\u9633\u533a', u'companyId': 82991, u'explain': None, u'industryField': u'\u4f01\u4e1a\u670d\u52a1,\u6570\u636e\u670d\u52a1', u'createTime': u'2017-03-24 11:04:03', u'positionLables': [u'\u9ad8\u7ea7', u'\u4e2d\u7ea7', u'\u6d4b\u8bd5'], u'score': 0, u'adWord': 0, u'formatCreateTime': u'11:04\u53d1\u5e03', u'salary': u'15k-30k', u'workYear': u'1-3\u5e74', u'secondType': u'\u6d4b\u8bd5', u'jobNature': u'\u5168\u804c', u'deliver': 0, u'gradeDescription': None, u'imState': u'today', u'companyFullName': u'\u5317\u4eac\u6570\u7f8e\u65f6\u4ee3\u79d1\u6280\u6709\u9650\u516c\u53f8', u'companyLabelList': [u'\u5e74\u5e95\u53cc\u85aa', u'\u5927\u6570\u636e', u'\u5e26\u85aa\u5e74\u5047', u'\u901a\u8baf\u6d25\u8d34'], u'positionId': 2749416, u'companyShortName': u'\u6570\u7f8e', u'publisherId': 2117266, u'businessZones': [u'\u671b\u4eac', u'\u6765\u5e7f\u8425'], u'plus': None, u'lastLogin': 1490329638000L, u'positionAdvantage': u'\u6e90\u7801\u7814\u53d1,\u5927\u725b\u5982\u4e91,\u6280\u672f\u6c1b\u56f4,\u5927\u4f6c\u9886\u6295', u'approve': 1, u'promotionScoreExplain': None}, {u'companySize': u'2000\u4eba\u4ee5\u4e0a', u'firstType': u'\u5f00\u53d1/\u6d4b\u8bd5/\u8fd0\u7ef4\u7c7b', u'appShow': 0, u'pcShow': 0, u'positionName': u'\u5b66\u800c\u601d\u7f51\u6821-\u6d4b\u8bd5\u5de5\u7a0b\u5e08\uff08\u529f\u80fd\u6d4b\u8bd5\uff09', u'education': u'\u672c\u79d1', u'financeStage': u'\u4e0a\u5e02\u516c\u53f8', u'city': u'\u5317\u4eac', u'companyLogo': u'image1/M00/00/09/Cgo8PFTUWBGALraJAAAeTBKK4IU791.png', u'district': u'\u6d77\u6dc0\u533a', u'companyId': 3328, u'explain': None, u'industryField': u'\u79fb\u52a8\u4e92\u8054\u7f51,\u6559\u80b2', u'createTime': u'2017-03-17 14:48:10', u'positionLables': [u'\u529f\u80fd\u6d4b\u8bd5'], u'score': 0, u'adWord': 0, u'formatCreateTime': u'2017-03-17', u'salary': u'7k-10k', u'workYear': u'1-3\u5e74', u'secondType': u'\u6d4b\u8bd5', u'jobNature': u'\u5168\u804c', u'deliver': 0, u'gradeDescription': None, u'imState': u'today', u'companyFullName': u'\u5317\u4eac\u4e16\u7eaa\u597d\u672a\u6765\u6559\u80b2\u79d1\u6280\u6709\u9650\u516c\u53f8', u'companyLabelList': [u'\u4e0a\u5e02\u516c\u53f8', u'\u9886\u519b\u4f01\u4e1a', u'\u4e94\u9669\u4e00\u91d1', u'\u4f4f\u798f\u8ba1\u5212'], u'positionId': 2921629, u'companyShortName': u'\u597d\u672a\u6765', u'publisherId': 4889163, u'businessZones': [u'\u4e2d\u5173\u6751', u'\u5317\u4eac\u5927\u5b66', u'\u82cf\u5dde\u8857'], u'plus': None, u'lastLogin': 1490338443000L, u'positionAdvantage': u'\u9760\u8c31\u56e2\u961f \u4e0a\u5e02\u516c\u53f8 \u798f\u5229\u5f85\u9047\u597d', u'approve': 1, u'promotionScoreExplain': None}, {u'companySize': u'50-150\u4eba', u'firstType': u'\u6280\u672f', u'appShow': 0, u'pcShow': 0, u'positionName': u'\u6d4b\u8bd5\u5de5\u7a0b\u5e08', u'education': u'\u672c\u79d1', u'financeStage': u'\u4e0a\u5e02\u516c\u53f8', u'city': u'\u5317\u4eac', u'companyLogo': u'i/image/M00/55/37/Cgp3O1fGeAOAGR9xAAAmwZBES1U196.jpg', u'district': u'\u671d\u9633\u533a', u'companyId': 19463, u'explain': None, u'industryField': u'\u79fb\u52a8\u4e92\u8054\u7f51,\u7535\u5b50\u5546\u52a1', u'createTime': u'2017-03-24 12:11:39', u'positionLables': [u'\u6d4b\u8bd5'], u'score': 0, u'adWord': 0, u'formatCreateTime': u'12:11\u53d1\u5e03', u'salary': u'10k-15k', u'workYear': u'1-3\u5e74', u'secondType': u'\u6d4b\u8bd5', u'jobNature': u'\u5168\u804c', u'deliver': 0, u'gradeDescription': None, u'imState': u'today', u'companyFullName': u'\u5e7f\u4e1c\u96e8\u6797\u6728\u98ce\u8ba1\u7b97\u673a\u79d1\u6280\u6709\u9650\u516c\u53f8\u5317\u4eac\u5206\u516c\u53f8', u'companyLabelList': [u'\u5e74\u7ec8\u5206\u7ea2', u'\u4e94\u9669\u4e00\u91d1', u'\u5e26\u85aa\u5e74\u5047', u'\u5348\u9910\u8865\u52a9'], u'positionId': 2497137, u'companyShortName': u'\u96e8\u6797\u6728\u98ce', u'publisherId': 221673, u'businessZones': [u'\u56fd\u8d38', u'CBD', u'\u4e1c\u5927\u6865'], u'plus': None, u'lastLogin': 1490336467000L, u'positionAdvantage': u'\u4e0a\u5e02\u516c\u53f8,\u6700\u591a5\u4e2a\u5b57,\u6700\u591a5\u4e2a\u5b57,\u6700\u591a5\u4e2a\u5b57', u'approve': 1, u'promotionScoreExplain': None}, {u'companySize': u'150-500\u4eba', u'firstType': u'\u6280\u672f', u'appShow': 0, u'pcShow': 0, u'positionName': u'\u6d4b\u8bd5\u5de5\u7a0b\u5e08', u'education': u'\u672c\u79d1', u'financeStage': u'\u6210\u719f\u578b(C\u8f6e)', u'city': u'\u5317\u4eac', u'companyLogo': u'image1/M00/00/3D/Cgo8PFTUXLeAVnodAABnJ4KXAuY780.jpg', u'district': None, u'companyId': 28014, u'explain': None, u'industryField': u'\u4f01\u4e1a\u670d\u52a1\u3001\u6570\u636e\u670d\u52a1', u'createTime': u'2017-03-23 17:21:26', u'positionLables': [u'\u6d4b\u8bd5'], u'score': 0, u'adWord': 0, u'formatCreateTime': u'1\u5929\u524d\u53d1\u5e03', u'salary': u'10k-15k', u'workYear': u'3-5\u5e74', u'secondType': u'\u6d4b\u8bd5', u'jobNature': u'\u5168\u804c', u'deliver': 0, u'gradeDescription': None, u'imState': u'disabled', u'companyFullName': u'\u5317\u4eac\u6c38\u6d2a\u5546\u667a\u79d1\u6280\u6709\u9650\u516c\u53f8', u'companyLabelList': [u'\u671f\u6743\u80a1\u6fc0\u52b1', u'\u9886\u5bfc\u597d', u'\u4e94\u9669\u4e00\u91d1', u'\u5de8\u5927\u6210\u957f\u7a7a\u95f4'], u'positionId': 1892870, u'companyShortName': u'\u6c38\u6d2a\u79d1\u6280', u'publisherId': 363934, u'businessZones': None, u'plus': None, u'lastLogin': 1490335246000L, u'positionAdvantage': u'\u4e94\u9669\u4e00\u91d1\u3001\u5f39\u6027\u5de5\u4f5c\u3001\u53d1\u5c55\u7a7a\u95f4', u'approve': 1, u'promotionScoreExplain': None}, {u'companySize': u'50-150\u4eba', u'firstType': u'\u5f00\u53d1/\u6d4b\u8bd5/\u8fd0\u7ef4\u7c7b', u'appShow': 0, u'pcShow': 0, u'positionName': u'\u6d4b\u8bd5\u5de5\u7a0b\u5e08', u'education': u'\u672c\u79d1', u'financeStage': u'\u6210\u957f\u578b(B\u8f6e)', u'city': u'\u5317\u4eac', u'companyLogo': u'i/image/M00/41/75/CgqKkVd8xyGAf6mGAAF1OHonU20668.png', u'district': u'\u4e1c\u57ce\u533a', u'companyId': 34573, u'explain': None, u'industryField': u'\u79fb\u52a8\u4e92\u8054\u7f51,\u7535\u5b50\u5546\u52a1', u'createTime': u'2017-03-24 10:24:22', u'positionLables': [u'web', u'\u6d4b\u8bd5', u'app'], u'score': 0, u'adWord': 0, u'formatCreateTime': u'10:24\u53d1\u5e03', u'salary': u'10k-20k', u'workYear': u'3-5\u5e74', u'secondType': u'\u6d4b\u8bd5', u'jobNature': u'\u5168\u804c', u'deliver': 0, u'gradeDescription': None, u'imState': u'today', u'companyFullName': u'\u5317\u4eac\u4e5d\u5dde\u4e91\u52a8\u79d1\u6280\u6709\u9650\u516c\u53f8', u'companyLabelList': [u'\u6280\u80fd\u57f9\u8bad', u'\u4e13\u9879\u5956\u91d1', u'\u5e26\u85aa\u5e74\u5047', u'\u7ee9\u6548\u5956\u91d1'], u'positionId': 2927654, u'companyShortName': u'\u534a\u7cd6', u'publisherId': 1411652, u'businessZones': None, u'plus': None, u'lastLogin': 1490337572000L, u'positionAdvantage': u'\u5e26\u85aa\u4f11\u5047,\u63d0\u4f9b\u65e9\u665a\u9910,\u4f53\u9a8c\u65c5\u6e38,\u96f6\u98df\u996e\u6599', u'approve': 1, u'promotionScoreExplain': None}, {u'companySize': u'2000\u4eba\u4ee5\u4e0a', u'firstType': u'\u5f00\u53d1/\u6d4b\u8bd5/\u8fd0\u7ef4\u7c7b', u'appShow': 0, u'pcShow': 0, u'positionName': u'\u5bbd\u5e26\u79d1\u7814\u548c\u6d4b\u8bd5\u5de5\u7a0b\u5e08', u'education': u'\u672c\u79d1', u'financeStage': u'\u6210\u719f\u578b(\u4e0d\u9700\u8981\u878d\u8d44)', u'city': u'\u5317\u4eac', u'companyLogo': u'i/image/M00/03/DB/CgqKkVbEDlCAfr1TAAET7kfjlhg749.jpg', u'district': u'\u6d77\u6dc0\u533a', u'companyId': 114603, u'explain': None, u'industryField': u'\u4fe1\u606f\u5b89\u5168,\u79fb\u52a8\u4e92\u8054\u7f51', u'createTime': u'2017-03-23 11:24:24', u'positionLables': [u'\u7f51\u7edc\u901a\u4fe1', u'\u8fd0\u7ef4'], u'score': 0, u'adWord': 0, u'formatCreateTime': u'1\u5929\u524d\u53d1\u5e03', u'salary': u'10k-15k', u'workYear': u'3-5\u5e74', u'secondType': u'\u8fd0\u7ef4\u5b89\u5168', u'jobNature': u'\u5168\u804c', u'deliver': 0, u'gradeDescription': None, u'imState': u'disabled', u'companyFullName': u'\u4e2d\u56fd\u4fe1\u606f\u901a\u4fe1\u7814\u7a76\u9662', u'companyLabelList': [u'\u5e74\u7ec8\u5206\u7ea2', u'\u7ee9\u6548\u5956\u91d1', u'\u5e26\u85aa\u5e74\u5047', u'\u5348\u9910\u8865\u52a9'], u'positionId': 2892845, u'companyShortName': u'\u4e2d\u56fd\u4fe1\u901a\u9662', u'publisherId': 3911675, u'businessZones': None, u'plus': None, u'lastLogin': 1490339520000L, u'positionAdvantage': u'\u4e8b\u4e1a\u5355\u4f4d \u9ad8\u7aef\u667a\u5e93', u'approve': 1, u'promotionScoreExplain': None}, {u'companySize': u'2000\u4eba\u4ee5\u4e0a', u'firstType': u'\u6280\u672f', u'appShow': 0, u'pcShow': 0, u'positionName': u'\u6d4b\u8bd5\u5de5\u7a0b\u5e08', u'education': u'\u672c\u79d1', u'financeStage': u'\u6210\u719f\u578b(\u4e0d\u9700\u8981\u878d\u8d44)', u'city': u'\u5317\u4eac', u'companyLogo': u'i/image/M00/9B/9C/CgqKkViiZ0qAYhgBAAASfDOr-8s150.jpg', u'district': u'\u4e1c\u57ce\u533a', u'companyId': 53137, u'explain': None, u'industryField': u'O2O', u'createTime': u'2017-03-22 11:48:26', u'positionLables': [u'\u6d4b\u8bd5'], u'score': 0, u'adWord': 0, u'formatCreateTime': u'2\u5929\u524d\u53d1\u5e03', u'salary': u'10k-15k', u'workYear': u'3-5\u5e74', u'secondType': u'\u6d4b\u8bd5', u'jobNature': u'\u5168\u804c', u'deliver': 0, u'gradeDescription': None, u'imState': u'today', u'companyFullName': u'\u91d1\u8272\u5bb6\u56ed\u7f51\u7edc\u79d1\u6280\u6709\u9650\u516c\u53f8', u'companyLabelList': [u'\u8282\u65e5\u793c\u7269', u'\u5e26\u85aa\u5e74\u5047', u'\u7ee9\u6548\u5956\u91d1', u'\u7ba1\u7406\u89c4\u8303'], u'positionId': 2083358, u'companyShortName': u'\u5bb6\u56ed\u7f51', u'publisherId': 2438961, u'businessZones': [u'\u5e7f\u6e20\u95e8', u'\u82b1\u5e02', u'\u5149\u660e\u697c'], u'plus': None, u'lastLogin': 1490337196000L, u'positionAdvantage': u'\u798f\u5229\u597d\uff0c\u9886\u5bfc\u597d\uff0c\u56e2\u961f\u597d\uff0c\u53d1\u5c55\u7a7a\u95f4\u5927', u'approve': 1, u'promotionScoreExplain': None}, {u'companySize': u'150-500\u4eba', u'firstType': u'\u6280\u672f', u'appShow': 0, u'pcShow': 0, u'positionName': u'\u6d4b\u8bd5\u5de5\u7a0b\u5e08', u'education': u'\u672c\u79d1', u'financeStage': u'\u6210\u957f\u578b(B\u8f6e)', u'city': u'\u5317\u4eac', u'companyLogo': u'i/image/M00/8C/A3/Cgp3O1iAfEuANKQdAAAUAGB9Fag882.jpg', u'district': u'\u671d\u9633\u533a', u'companyId': 7001, u'explain': None, u'industryField': u'\u79fb\u52a8\u4e92\u8054\u7f51', u'createTime': u'2017-03-24 10:14:35', u'positionLables': [u'\u6d4b\u8bd5'], u'score': 0, u'adWord': 0, u'formatCreateTime': u'10:14\u53d1\u5e03', u'salary': u'8k-10k', u'workYear': u'3-5\u5e74', u'secondType': u'\u6d4b\u8bd5', u'jobNature': u'\u5168\u804c', u'deliver': 0, u'gradeDescription': None, u'imState': u'today', u'companyFullName': u'\u5317\u4eac\u6307\u638c\u6613\u79d1\u6280\u6709\u9650\u516c\u53f8', u'companyLabelList': [u'\u7ee9\u6548\u5956\u91d1', u'\u4e13\u9879\u5956\u91d1', u'\u5b9a\u671f\u4f53\u68c0', u'\u5f39\u6027\u5de5\u4f5c'], u'positionId': 1322301, u'companyShortName': u'\u6307\u638c\u6613', u'publisherId': 77408, u'businessZones': [u'\u4e9a\u8fd0\u6751', u'\u5965\u8fd0\u6751', u'\u5927\u5c6f'], u'plus': None, u'lastLogin': 1490321665000L, u'positionAdvantage': u'\u516d\u9669\u4e00\u91d1\uff0c\u80a1\u7968\u671f\u6743\uff0c\u5f39\u6027\u5de5\u4f5c\uff0c\u5e26\u85aa\u5e74\u5047', u'approve': 1, u'promotionScoreExplain': None}, {u'companySize': u'50-150\u4eba', u'firstType': u'\u5f00\u53d1/\u6d4b\u8bd5/\u8fd0\u7ef4\u7c7b', u'appShow': 0, u'pcShow': 0, u'positionName': u'\u6d4b\u8bd5\u5de5\u7a0b\u5e08', u'education': u'\u5927\u4e13', u'financeStage': u'\u521d\u521b\u578b(\u5929\u4f7f\u8f6e)', u'city': u'\u5317\u4eac', u'companyLogo': u'image1/M00/0A/47/Cgo8PFTusM6ABYLFAABB0I2svPM457.png', u'district': u'\u6d77\u6dc0\u533a', u'companyId': 52978, u'explain': None, u'industryField': u'\u6570\u636e\u670d\u52a1,\u5e7f\u544a\u8425\u9500', u'createTime': u'2017-03-24 09:48:05', u'positionLables': [u'\u5927\u6570\u636e', u'\u6d4b\u8bd5', u'\u81ea\u52a8\u5316'], u'score': 0, u'adWord': 0, u'formatCreateTime': u'09:48\u53d1\u5e03', u'salary': u'15k-30k', u'workYear': u'1-3\u5e74', u'secondType': u'\u6d4b\u8bd5', u'jobNature': u'\u5168\u804c', u'deliver': 0, u'gradeDescription': None, u'imState': u'disabled', u'companyFullName': u'\u4e0a\u6d77\u4f18\u96c5\u5e7f\u544a\u6709\u9650\u516c\u53f8', u'companyLabelList': [u'\u8282\u65e5\u793c\u7269', u'\u6280\u80fd\u57f9\u8bad', u'\u7ee9\u6548\u5956\u91d1', u'\u5e74\u5ea6\u65c5\u6e38'], u'positionId': 2800215, u'companyShortName': u'\u4f18\u96c5\u5e7f\u544a', u'publisherId': 7012844, u'businessZones': [u'\u82cf\u5dde\u6865', u'\u4eba\u6c11\u5927\u5b66', u'\u82cf\u5dde\u8857'], u'plus': None, u'lastLogin': 1490173653000L, u'positionAdvantage': u'\u6241\u5e73\u5316\u7ba1\u7406,\u53d1\u5c55\u5e73\u53f0\u597d', u'approve': 1, u'promotionScoreExplain': None}, {u'companySize': u'15-50\u4eba', u'firstType': u'\u5f00\u53d1/\u6d4b\u8bd5/\u8fd0\u7ef4\u7c7b', u'appShow': 0, u'pcShow': 0, u'positionName': u'\u6d4b\u8bd5\u5de5\u7a0b\u5e08', u'education': u'\u672c\u79d1', u'financeStage': u'\u6210\u957f\u578b(A\u8f6e)', u'city': u'\u5317\u4eac', u'companyLogo': u'i/image/M00/89/FB/CgqKkVh0RDCAPmP6AABTF6nEhcE762.png', u'district': u'\u671d\u9633\u533a', u'companyId': 96243, u'explain': None, u'industryField': u'\u793e\u4ea4\u7f51\u7edc,\u65c5\u6e38', u'createTime': u'2017-03-24 09:31:21', u'positionLables': [u'\u6d4b\u8bd5'], u'score': 0, u'adWord': 0, u'formatCreateTime': u'09:31\u53d1\u5e03', u'salary': u'6k-8k', u'workYear': u'1-3\u5e74', u'secondType': u'\u6d4b\u8bd5', u'jobNature': u'\u5168\u804c', u'deliver': 0, u'gradeDescription': None, u'imState': u'today', u'companyFullName': u'\u5317\u4eac\u5439\u7c73\u79d1\u6280\u6709\u9650\u516c\u53f8', u'companyLabelList': [u'\u5f39\u6027\u5de5\u4f5c'], u'positionId': 2604558, u'companyShortName': u'\u4f34\u7c73\u7f51', u'publisherId': 2602543, u'businessZones': [u'\u59da\u5bb6\u56ed', u'\u5341\u91cc\u5821', u'\u9ad8\u7891\u5e97'], u'plus': None, u'lastLogin': 1490338049000L, u'positionAdvantage': u'\u77e5\u540d\u521b\u59cb\u4eba\uff0c\u53d1\u5c55\u7a7a\u95f4\u5927\uff0c\u9886\u5bfcNice', u'approve': 1, u'promotionScoreExplain': None}, {u'companySize': u'500-2000\u4eba', u'firstType': u'\u5f00\u53d1/\u6d4b\u8bd5/\u8fd0\u7ef4\u7c7b', u'appShow': 0, u'pcShow': 0, u'positionName': u'\u6d4b\u8bd5\u5de5\u7a0b\u5e08', u'education': u'\u672c\u79d1', u'financeStage': u'\u6210\u719f\u578b(D\u8f6e\u53ca\u4ee5\u4e0a)', u'city': u'\u5317\u4eac', u'companyLogo': u'i/image/M00/77/85/CgqKkVg4ZMeAR3-3AACOhZ_Lekw55.jpeg', u'district': u'\u671d\u9633\u533a', u'companyId': 61249, u'explain': None, u'industryField': u'\u79fb\u52a8\u4e92\u8054\u7f51,O2O', u'createTime': u'2017-03-23 11:02:38', u'positionLables': [u'\u4e2d\u7ea7', u'\u6d4b\u8bd5'], u'score': 0, u'adWord': 0, u'formatCreateTime': u'1\u5929\u524d\u53d1\u5e03', u'salary': u'12k-24k', u'workYear': u'3-5\u5e74', u'secondType': u'\u6d4b\u8bd5', u'jobNature': u'\u5168\u804c', u'deliver': 0, u'gradeDescription': None, u'imState': u'today', u'companyFullName': u'\u5317\u4eac\u4e91\u9e1f\u79d1\u6280\u6709\u9650\u516c\u53f8', u'companyLabelList': [u'\u6280\u80fd\u57f9\u8bad', u'\u8282\u65e5\u793c\u7269', u'\u7ee9\u6548\u5956\u91d1', u'\u5c97\u4f4d\u664b\u5347'], u'positionId': 2942050, u'companyShortName': u'\u4e91\u9e1f\u79d1\u6280', u'publisherId': 5028173, u'businessZones': [u'\u5927\u5c6f', u'\u5965\u8fd0\u6751'], u'plus': None, u'lastLogin': 1490338075000L, u'positionAdvantage': u'\u4e94\u9669\u4e00\u91d1,\u9910\u8865,\u9886\u5bfc\u597d,\u6c1b\u56f4\u597d', u'approve': 1, u'promotionScoreExplain': None}]}, u'hrInfoMap': {u'2894284': {u'canTalk': True, u'positionName': u'HRBP', u'realName': u'\u7cd6\u7cd6', u'userId': 3474322, u'phone': None, u'receiveEmail': None, u'userLevel': u'G1', u'portrait': u'i/image/M00/91/5B/CgqKkViX8ouAeE-yAAC2G99PWWY876.jpg'}, u'2749416': {u'canTalk': True, u'positionName': u'HR', u'realName': u'\u9976\u9896', u'userId': 2117266, u'phone': None, u'receiveEmail': None, u'userLevel': u'G1', u'portrait': u'i/image/M00/98/D2/Cgp3O1igG6qAb3vzAAAgJXYyQFE595.jpg'}, u'2944060': {u'canTalk': True, u'positionName': u'HRM', u'realName': u'chenglin', u'userId': 4407531, u'phone': None, u'receiveEmail': None, u'userLevel': u'G1', u'portrait': u'i/image/M00/10/3B/CgqKkVbfj0iAHbmUAADq9xE6kAQ567.jpg'}, u'2604558': {u'canTalk': True, u'positionName': u'HR\u4e3b\u7ba1', u'realName': u'\u5b5f\u5973\u58eb', u'userId': 2602543, u'phone': None, u'receiveEmail': None, u'userLevel': u'G1', u'portrait': u'i/image/M00/AD/42/CgqKkVi1D7qACg0CAABTF6nEhcE553.png'}, u'1440585': {u'canTalk': True, u'positionName': u'HRM', u'realName': u'\u989c\u5973\u58eb', u'userId': 994817, u'phone': None, u'receiveEmail': None, u'userLevel': u'G1', u'portrait': u'image1/M00/08/5F/Cgo8PFTUiteAWhZ4AACFolSiTfg667.png'}, u'1892870': {u'canTalk': True, u'positionName': u'HR', u'realName': u'hr', u'userId': 363934, u'phone': None, u'receiveEmail': None, u'userLevel': u'G1', u'portrait': None}, u'2800215': {u'canTalk': True, u'positionName': u'', u'realName': u'hr', u'userId': 7012844, u'phone': None, u'receiveEmail': None, u'userLevel': u'G1', u'portrait': None}, u'2497137': {u'canTalk': True, u'positionName': u'', u'realName': u'hrbj', u'userId': 221673, u'phone': None, u'receiveEmail': None, u'userLevel': u'G1', u'portrait': None}, u'2892845': {u'canTalk': True, u'positionName': u'HR', u'realName': u'Monie', u'userId': 3911675, u'phone': None, u'receiveEmail': None, u'userLevel': u'G1', u'portrait': None}, u'1322301': {u'canTalk': True, u'positionName': u'HRM', u'realName': u'\u5218\u5973\u58eb', u'userId': 77408, u'phone': None, u'receiveEmail': None, u'userLevel': u'G1', u'portrait': u'image2/M00/10/18/CgqLKVYthE2AAEoIAABBYYCLToo312.png'}, u'2921629': {u'canTalk': True, u'positionName': None, u'realName': u'chenjinlan', u'userId': 4889163, u'phone': None, u'receiveEmail': None, u'userLevel': u'G1', u'portrait': None}, u'2927654': {u'canTalk': True, u'positionName': u'HR', u'realName': u'\u4e54\u661f\u5189', u'userId': 1411652, u'phone': None, u'receiveEmail': None, u'userLevel': u'G1', u'portrait': u'i/image/M00/B7/B4/CgqKkVjA0riAOb9iAADGR5DdTGE508.jpg'}, u'2502620': {u'canTalk': True, u'positionName': u'\u4eba\u4e8b\u8d1f\u8d23\u4eba', u'realName': u'\u674e\u96ea', u'userId': 3568253, u'phone': None, u'receiveEmail': None, u'userLevel': u'G1', u'portrait': None}, u'2083358': {u'canTalk': True, u'positionName': None, u'realName': u'', u'userId': 2438961, u'phone': None, u'receiveEmail': None, u'userLevel': u'G1', u'portrait': None}, u'2942050': {u'canTalk': True, u'positionName': u'hr', u'realName': u'\u9ad8\u5a55', u'userId': 5028173, u'phone': None, u'receiveEmail': None, u'userLevel': u'G1', u'portrait': u'i/image/M00/29/9A/Cgp3O1cwJMmACTZuAAA0i2Y5__g63.jpeg'}}, u'pageSize': 15, u'pageNo': 1}, u'requestId': None, u'msg': None}
                position_list = res['content']['positionResult']['result']
                for positioninfo in position_list:
                    position = positioninfo['positionName']
                    company = positioninfo['companyShortName']
                    workyear = positioninfo['workYear']
                    salary = positioninfo['salary']
                    id = positioninfo['positionId']
                    url = 'https://www.lagou.com/jobs/%d.html' % id
                    businessZones = positioninfo['businessZones']
                    if businessZones:
                        workplace = businessZones[0]
                    else:
                        workplace = '地点未知'
                    print position, workyear, salary, workplace, company, url
                    data = {position, workyear, salary, workplace, company, url}
                    position_info.append(data)
            else:
                print '第%d页' % page + r.status_code
        except Exception, e:
            print 'error：', e
    return position_info


if __name__ == '__main__':
    base_url = 'https://www.lagou.com/jobs/positionAjax.json?city=%E5%8C%97%E4%BA%AC&needAddtionalResult=false'
    header = {'Accept': 'application/json, text/javascript, */*; q=0.01',
              'User-Agent': 'Mozilla/5.0(Windows NT 6.3;WOW64;rv:52.0) Gecko / 20100101Firefox / 52.0',
              'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',
              'X-Requested-With': 'XMLHttpRequest',
              'Accept-Encoding': 'gzip, deflate, br',
              'Accept-Language': 'zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3'
              }
    cookie = {'Hm_lvt_4233e74dff0ae5bd0a3d81c6ccf756e6': '1489998933,1490166877,1490338286',
              '_ga': 'GA1.2.484959430.1486199222',
              'user_trace_token': '20170204170702-4a8ffeaa-eab9-11e6-9116-525400f775ce',
              'LGUID': '20170204170702-4a90036c-eab9-11e6-9116-525400f775ce',
              'index_location_city': '%E5%8C%97%E4%BA%AC',
              'JSESSIONID': '3CBBD0FC92A9DE5EE6502546E855ED42',
              'TG-TRACK-CODE': 'index_navigation',
              'SEARCH_ID': 'ccf59909591444f2a97be5f1dae28a1a',
              '_gat': '1',
              'LGSID': '20170324145125-4c896f10-105e-11e7-9566-5254005c3644',
              'PRE_UTM': '',
              'PRE_HOST': '',
              'PRE_SITE': 'https%3A%2F%2Fwww.lagou.com%2F',
              'PRE_LAND': 'https%3A%2F%2Fwww.lagou.com%2Fzhaopin%2Fceshi%2F%3FlabelWords%3Dlabel',
              'LGRID': '20170324145125-4c89707f-105e-11e7-9566-5254005c3644',
              'Hm_lpvt_4233e74dff0ae5bd0a3d81c6ccf756e6': '1490338286'
              }
    position_info = []
    position_info = get_response()
